<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generador de Mensajes</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      padding: 20px;
      background-color: #f4f4f4;
    }
    h1 {
      text-align: center;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    .form-group {
      margin-bottom: 15px;
    }
    .form-group label {
      display: block;
      margin-bottom: 5px;
    }
    .form-group select, .form-group input {
      width: 100%;
      padding: 8px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }
    #results {
      margin-top: 20px;
    }
    .message {
      padding: 10px;
      background: #e0e0e0;
      border-radius: 4px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <h1>Generador de Mensajes</h1>
  <div class="container">
    <form id="messageForm">
      <div class="form-group">
        <label for="language">Selecciona el idioma:</label>
        <select id="language" name="language">
          <option value="es">EspaÃ±ol</option>
          <option value="en">InglÃ©s</option>
          <option value="cat">CatalÃ¡n</option>
          <option value="eus">Euskera</option>
        </select>
      </div>
      <div class="form-group">
        <label for="sign">Ingresa tu signo zodiacal (o dÃ©jalo en blanco para aleatorio):</label>
        <input type="text" id="sign" name="sign" placeholder="libra, virgo, tauro, etc.">
      </div>
      <button type="submit">Generar Mensajes</button>
    </form>
    <div id="results"></div>
  </div>

  <script>
    function generateRandomNumber(num) {
      // Gets a random number from 0 to num - 1
      return Math.floor(Math.random() * num);
    }

    const messages = {
      es: {
        signInfo: ['libra', 'virgo', 'tauro', 'cancer', 'aries'],
        fortuneOutput: ['tienes muy mala suerte ğŸ˜”', ' tienes mala suerte ğŸ˜Ÿ', 'tienes suerte ğŸ™‚', 'tienes buena suerte ğŸ˜€', 'tienes muy buena suerte ğŸŒŸ'],
        advice: ['Vete a comer ğŸ½ï¸', 'no leas esto ğŸš«', 'Juega mÃ¡s ğŸ®', 'Solo una vez mÃ¡s ğŸ²']
      },
      en: {
        signInfo: ['libra', 'virgo', 'taurus', 'cancer', 'aries'],
        fortuneOutput: ['you have very bad luck ğŸ˜”', 'you have bad luck ğŸ˜Ÿ', 'you have luck ğŸ™‚', 'you have good luck ğŸ˜€', 'you have very good luck ğŸŒŸ'],
        advice: ['Go out and eat ğŸ½ï¸', 'don\'t read this ğŸš«', 'Play more ğŸ®', 'Just one more time ğŸ²']
      },
      cat: {
        signInfo: ['lliura', 'virgo', 'tauro', 'cancer', 'aries'],
        fortuneOutput: ['tens molt mala sort ğŸ˜”', 'tens mala sort ğŸ˜Ÿ', 'tens sort ğŸ™‚', 'tens bona sort ğŸ˜€', 'tens molt bona sort ğŸŒŸ'],
        advice: ['Ves a menjar ğŸ½ï¸', 'no llegeixis aixÃ² ğŸš«', 'juga mÃ©s ğŸ®', 'nomÃ©s una vegada mÃ©s ğŸ²']
      },
      eus: {
        signInfo: ['libra', 'birge', 'tauro', 'minbizia', 'ardi'],
        fortuneOutput: ['Oso zorte txarra duzu ğŸ˜”', 'Zorte txarra duzu ğŸ˜Ÿ', 'Zortea duzu ğŸ™‚', 'Zorte ona duzu ğŸ˜€', 'Oso zorte ona duzu ğŸŒŸ'],
        advice: ['Joan bazkaltzera ğŸ½ï¸', 'Ez irakurri hau ğŸš«', 'Jolastu gehiago ğŸ®', 'Aukera bat gehiago ğŸ²']
      }
      




    };

    const zodiacMessages = {
      es: {
        libra: 'Hoy es un buen dÃ­a para tomar decisiones equilibradas.',
        virgo: 'Presta atenciÃ³n a los detalles en tu trabajo.',
        tauro: 'Disfruta de las pequeÃ±as cosas de la vida.',
        cancer: 'Dedica tiempo a tu familia y seres queridos.',
        aries: 'Es un gran momento para tomar la iniciativa.'
      },
      en: {
        libra: 'Today is a good day to make balanced decisions.',
        virgo: 'Pay attention to the details in your work.',
        taurus: 'Enjoy the little things in life.',
        cancer: 'Spend time with your family and loved ones.',
        aries: 'Itâ€™s a great time to take initiative.'
      },
      cat: {
        libra: 'Avui Ã©s un bon dia per prendre decisions equilibrades.',
        virgo: 'Para atenciÃ³ als detalls a la teva feina.',
        tauro: 'Gaudeix de les petites coses de la vida.',
        cancer: 'Dedica temps a la teva famÃ­lia i Ã©ssers estimats.',
        aries: 'Ã‰s un gran moment per prendre la iniciativa.'
      },
      eus: {
        libra: 'Gaur egungo eguna erabaki orekatutakoak hartzeko eguna da.',
        virgo: 'Arretaz jarraitu zure lanaren xehetasunei.',
        tauro: 'Bizitzako gauza txikiez gozatu.',
        cancer: 'Eskaini denbora zure familiari eta maite dituzunei.',
        aries: 'Momentu bikaina da ekintza hartu ahal izateko.'
      }
      
      

    };

    const timeOfDayMessages = {
      es: {
        morning: 'Â¡Buenos dÃ­as! Es un buen momento para empezar el dÃ­a con energÃ­a positiva.',
        afternoon: 'Â¡Buenas tardes! Aprovecha el resto del dÃ­a para lograr tus objetivos.',
        evening: 'Â¡Buenas noches! RelÃ¡jate y disfruta de un merecido descanso.'
      },
      en: {
        morning: 'Good morning! Itâ€™s a great time to start your day with positive energy.',
        afternoon: 'Good afternoon! Make the most of the rest of your day to achieve your goals.',
        evening: 'Good evening! Relax and enjoy a well-deserved rest.'
      },
      cat: {
        morning: 'Bon dia! Ã‰s un bon moment per comenÃ§ar el dia amb energia positiva.',
        afternoon: 'Bona tarda! Aprofita el que queda del dia per aconseguir els teus objectius.',
        evening: 'Bona nit! RelaxaÂ´t i gaudeix dÂ´un merescut descans.'
      },
      eus: {
        morning: 'Egun on! Eguna positiboki hasteko momentu egokia da.',
        afternoon: 'Arratsalde on! Egunaren gainerakoa aprobetxatu zure helburuak lortzeko.',
        evening: 'Gabon! Lasaitu zaitez eta gozatu merezitako atsedenaz.'
      }
      


    };

    function getCurrentDateTime() {
      const now = new Date();
      return now.toLocaleString();
    }

    function getTimeOfDay() {
      const hour = new Date().getHours();
      if (hour < 12) return 'morning';
      if (hour < 20) return 'afternoon';
      return 'evening';
    }

    function generatePersonalWisdom(language = 'es', userSign = null) {
      let personalWisdom = [];
      const dateTime = getCurrentDateTime();
      const timeOfDay = getTimeOfDay();
      
      if (!messages[language]) {
        console.error('Language not supported.');
        return;
      }

      const collectiveWisdom = messages[language];
      const zodiacMessagesInLang = zodiacMessages[language];
      const timeOfDayMessagesInLang = timeOfDayMessages[language];
      
      const userSignLower = userSign ? userSign.toLowerCase() : '';
      const validSigns = collectiveWisdom.signInfo;
      const isValidSign = validSigns.includes(userSignLower);
      
      for (let prop in collectiveWisdom) {
        let optionIdx;
        let message;
        
        if (prop === 'signInfo') {
          message = `${timeOfDayMessagesInLang[timeOfDay]} `;
        }

        switch (prop) {
          case 'signInfo':
            if (userSignLower && isValidSign) {
              message += `Tu signo del zodiaco es: "${userSignLower}". ${zodiacMessagesInLang[userSignLower] || 'No tengo informaciÃ³n especÃ­fica para tu signo.'}`;
            } else {
              optionIdx = generateRandomNumber(collectiveWisdom[prop].length);
              const sign = collectiveWisdom[prop][optionIdx];
              message += `Tu signo del zodiaco es: "${sign}".`;
              if (zodiacMessagesInLang[sign]) {
                message += ` ${zodiacMessagesInLang[sign]}`;
              }
            }
            break;
          case 'fortuneOutput':
            optionIdx = generateRandomNumber(collectiveWisdom[prop].length);
            if  (language === 'es') {
              message = `Parece que hoy ${collectiveWisdom[prop][optionIdx]}".`;

            } else if (language === 'en') {
              message = `It seems like today ${collectiveWisdom[prop][optionIdx]}.`;
            } else if (language === 'cat') {
              message =  `Sembla que avui ${collectiveWisdom[prop][optionIdx]}.`;
            } else if (language === 'eus') {
              message = `Itxura denez gaur ${collectiveWisdom[prop][optionIdx]}.`;
            }
           
            break;
          case 'advice':
            optionIdx = generateRandomNumber(collectiveWisdom[prop].length);
            if (language === 'es') {
              message = `Un buen consejo para ti serÃ­a: "${collectiveWisdom[prop][optionIdx]}".`;

            } else if (language === 'en') {
              message = `A good piece of advice for you is: "${collectiveWisdom[prop][optionIdx]}".`;
            } else if (language === 'cat') {
              message = `Un bon consell per a tu seria: "${collectiveWisdom[prop][optionIdx]}".`;
            } else if (language === 'eus') {
              message = `Zuretzat aholku on bat izango litzateke: "${collectiveWisdom[prop][optionIdx]}".`;
            }
            
            break;
          default:
            message = 'No tengo suficiente informaciÃ³n.';
        }
        
        personalWisdom.push(`[${dateTime}] ${message}`);
      }
      
      return personalWisdom;
    }

    function formatWisdom(wisdom) {
      return wisdom.map(msg => `<div class="message">${msg}</div>`).join('');
    }

    function saveMessagesToLocalStorage(messages) {
      localStorage.setItem('savedMessages', JSON.stringify(messages));
    }

    function getMessagesFromLocalStorage() {
      const savedMessages = localStorage.getItem('savedMessages');
      return savedMessages ? JSON.parse(savedMessages) : [];
    }

    document.getElementById('messageForm').addEventListener('submit', function(event) {
      event.preventDefault();
      
      const language = document.getElementById('language').value;
      const userSign = document.getElementById('sign').value.trim();
      const wisdom = generatePersonalWisdom(language, userSign);
      
      saveMessagesToLocalStorage(wisdom);
      const savedWisdom = getMessagesFromLocalStorage();
      document.getElementById('results').innerHTML = formatWisdom(savedWisdom);
    });

    // Initialize with saved messages if available
    const initialMessages = getMessagesFromLocalStorage();
    if (initialMessages.length > 0) {
      document.getElementById('results').innerHTML = formatWisdom(initialMessages);
    }
  </script>
</body>
</html>
